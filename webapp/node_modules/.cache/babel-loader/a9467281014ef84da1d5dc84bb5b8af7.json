{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/e.semashko/Desktop/belarus-main/webapp/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/e.semashko/Desktop/belarus-main/webapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{SET_STATE_OBJECTS,CHANGE_OBJECT_LOADER,ERROR_OBJECT_USERS,SET_CURRENT_OBJECT,CHANGE_RATE,SET_SORT_OBJECTS,SET_LIKED_OBJECTS,IS_SEARCH,SEARCH_OBJECTS,GET_OBJECTS_LENGTH,SET_CURRENT_PAGE,SET_PAGINATION_PAGE}from'../actionTypes/objects';import Repository from'../../repository';export var setStateObjects=function setStateObjects(objects){return{type:SET_STATE_OBJECTS,payload:objects};};export var setLikedObjects=function setLikedObjects(){return{type:SET_LIKED_OBJECTS};};export var setSortObjects=function setSortObjects(objects){return{type:SET_SORT_OBJECTS,payload:objects};};export function objectsLoading(value){return{type:CHANGE_OBJECT_LOADER,value:value};}export function loadingError(value){return{type:ERROR_OBJECT_USERS,value:value};}export var setCurrentObject=function setCurrentObject(object){return{type:SET_CURRENT_OBJECT,payload:object};};export var changeRate=function changeRate(id,rate){return{type:CHANGE_RATE,id:id,rate:rate};};export var getObjectsFromBD=function getObjectsFromBD(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$Repository$API,value,error;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(objectsLoading(true));_context.next=3;return Repository.APIObjects.getObjects();case 3:_yield$Repository$API=_context.sent;value=_yield$Repository$API.value;error=_yield$Repository$API.error;if(!value||error){dispatch(loadingError(true));}dispatch(setStateObjects(value.sort(function(a,b){return a.rate>b.rate?-1:1;})));dispatch(objectsLoading(false));case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getObjectFromBD=function getObjectFromBD(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$Repository$API2,value,error;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(objectsLoading(true));_context2.next=3;return Repository.APIObjects.getObject(id);case 3:_yield$Repository$API2=_context2.sent;value=_yield$Repository$API2.value;error=_yield$Repository$API2.error;if(!value||error){dispatch(loadingError(true));}dispatch(setCurrentObject(value));dispatch(objectsLoading(false));case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var setObjectsIntoBD=function setObjectsIntoBD(img,name,region,text,rate){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$Repository$API3,value,error;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(objectsLoading(true));_context3.next=3;return Repository.APIObjects.createObject(img,name,region,text,rate);case 3:_yield$Repository$API3=_context3.sent;value=_yield$Repository$API3.value;error=_yield$Repository$API3.error;if(!value||error){dispatch(loadingError(true));}dispatch(setStateObjects(value));dispatch(objectsLoading(false));case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var setSearchObjects=function setSearchObjects(data){return{type:SEARCH_OBJECTS,payload:data};};export var isSearch=function isSearch(bool){return{type:IS_SEARCH,payload:bool};};export var setSearchObjectsFromBD=function setSearchObjectsFromBD(){var name=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var _yield$Repository$API4,value,error;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(isSearch(true));dispatch(objectsLoading(true));_context4.next=4;return Repository.APIObjects.searchObject(name);case 4:_yield$Repository$API4=_context4.sent;value=_yield$Repository$API4.value;error=_yield$Repository$API4.error;error||!value?dispatch(setSearchObjects([])):dispatch(setSearchObjects([value]));dispatch(objectsLoading(false));case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var setObjectsLength=function setObjectsLength(length){return{type:GET_OBJECTS_LENGTH,payload:length};};export var setCurrentPage=function setCurrentPage(number){return{type:SET_CURRENT_PAGE,payload:number};};export var setPaginationPage=function setPaginationPage(number){return{type:SET_PAGINATION_PAGE,payload:number};};","map":{"version":3,"sources":["C:/Users/e.semashko/Desktop/belarus-main/webapp/src/useCases/actions/objects.js"],"names":["SET_STATE_OBJECTS","CHANGE_OBJECT_LOADER","ERROR_OBJECT_USERS","SET_CURRENT_OBJECT","CHANGE_RATE","SET_SORT_OBJECTS","SET_LIKED_OBJECTS","IS_SEARCH","SEARCH_OBJECTS","GET_OBJECTS_LENGTH","SET_CURRENT_PAGE","SET_PAGINATION_PAGE","Repository","setStateObjects","objects","type","payload","setLikedObjects","setSortObjects","objectsLoading","value","loadingError","setCurrentObject","object","changeRate","id","rate","getObjectsFromBD","dispatch","APIObjects","getObjects","error","sort","a","b","getObjectFromBD","getObject","setObjectsIntoBD","img","name","region","text","createObject","setSearchObjects","data","isSearch","bool","setSearchObjectsFromBD","searchObject","setObjectsLength","length","setCurrentPage","number","setPaginationPage"],"mappings":"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","sourcesContent":["import {\n  SET_STATE_OBJECTS,\n  CHANGE_OBJECT_LOADER,\n  ERROR_OBJECT_USERS,\n  SET_CURRENT_OBJECT,\n  CHANGE_RATE,\n  SET_SORT_OBJECTS,\n\tSET_LIKED_OBJECTS,\n  IS_SEARCH,\n  SEARCH_OBJECTS,\n  GET_OBJECTS_LENGTH,\n  SET_CURRENT_PAGE,\n  SET_PAGINATION_PAGE\n} from '../actionTypes/objects';\nimport Repository from '../../repository';\n\nexport const setStateObjects = (objects) => {\n  return { type: SET_STATE_OBJECTS, payload: objects };\n};\nexport const setLikedObjects = () => {\n  return { type: SET_LIKED_OBJECTS };\n};\nexport const setSortObjects = (objects) => {\n  return { type: SET_SORT_OBJECTS, payload: objects };\n};\nexport function objectsLoading(value) {\n  return { type: CHANGE_OBJECT_LOADER, value };\n}\nexport function loadingError(value) {\n  return { type: ERROR_OBJECT_USERS, value };\n}\nexport const setCurrentObject = (object) => {\n  return { type: SET_CURRENT_OBJECT, payload: object };\n};\nexport const changeRate = (id, rate) => {\n  return { type: CHANGE_RATE, id, rate };\n};\n\n\nexport const getObjectsFromBD = () => async (dispatch) => {\n  dispatch(objectsLoading(true));\n  const { value, error } = await Repository.APIObjects.getObjects();\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n  dispatch(setStateObjects(value.sort((a, b) => (a.rate > b.rate ? -1 : 1))));\n  dispatch(objectsLoading(false));\n};\n\nexport const getObjectFromBD = (id) => async (dispatch) => {\n  dispatch(objectsLoading(true));\n  const { value, error } = await Repository.APIObjects.getObject(id);\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n  dispatch(setCurrentObject(value));\n  dispatch(objectsLoading(false));\n};\n\nexport const setObjectsIntoBD =\n  (img, name, region, text, rate) => async (dispatch) => {\n    dispatch(objectsLoading(true));\n    const { value, error } = await Repository.APIObjects.createObject(\n      img,\n      name,\n      region,\n      text,\n      rate\n    );\n    if (!value || error) {\n      dispatch(loadingError(true));\n    }\n    dispatch(setStateObjects(value));\n    dispatch(objectsLoading(false));\n  };\n\nexport const setSearchObjects = (data) => ({\n  type: SEARCH_OBJECTS,\n  payload: data,\n});\nexport const isSearch = (bool) => ({ type: IS_SEARCH, payload: bool });\nexport const setSearchObjectsFromBD =\n  (name = '') =>\n  async (dispatch) => {\n    dispatch(isSearch(true));\n    dispatch(objectsLoading(true));\n    const { value, error } = await Repository.APIObjects.searchObject(name);\n    error || !value\n      ? dispatch(setSearchObjects([]))\n      : dispatch(setSearchObjects([value]));\n    dispatch(objectsLoading(false));\n  };\n\nexport const setObjectsLength = (length) => ({\n  type: GET_OBJECTS_LENGTH,\n  payload: length,\n});\nexport const setCurrentPage = (number) => ({\n  type: SET_CURRENT_PAGE,\n  payload: number,\n});\nexport const setPaginationPage = (number) => ({\n  type: SET_PAGINATION_PAGE,\n  payload: number\n})\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { SET_STATE_OBJECTS, CHANGE_OBJECT_LOADER, ERROR_OBJECT_USERS, SET_CURRENT_OBJECT, CHANGE_RATE, SET_SORT_OBJECTS, SET_LIKED_OBJECTS, IS_SEARCH, SEARCH_OBJECTS, GET_OBJECTS_LENGTH, SET_CURRENT_PAGE, SET_PAGINATION_PAGE } from '../actionTypes/objects';\nimport Repository from '../../repository';\nexport const setStateObjects = objects => {\n  return {\n    type: SET_STATE_OBJECTS,\n    payload: objects\n  };\n};\nexport const setLikedObjects = () => {\n  return {\n    type: SET_LIKED_OBJECTS\n  };\n};\nexport const setSortObjects = objects => {\n  return {\n    type: SET_SORT_OBJECTS,\n    payload: objects\n  };\n};\nexport function objectsLoading(value) {\n  return {\n    type: CHANGE_OBJECT_LOADER,\n    value\n  };\n}\nexport function loadingError(value) {\n  return {\n    type: ERROR_OBJECT_USERS,\n    value\n  };\n}\nexport const setCurrentObject = object => {\n  return {\n    type: SET_CURRENT_OBJECT,\n    payload: object\n  };\n};\nexport const changeRate = (id, rate) => {\n  return {\n    type: CHANGE_RATE,\n    id,\n    rate\n  };\n};\nexport const getObjectsFromBD = () => async dispatch => {\n  dispatch(objectsLoading(true));\n  const {\n    value,\n    error\n  } = await Repository.APIObjects.getObjects();\n\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n\n  dispatch(setStateObjects(value.sort((a, b) => a.rate > b.rate ? -1 : 1)));\n  dispatch(objectsLoading(false));\n};\nexport const getObjectFromBD = id => async dispatch => {\n  dispatch(objectsLoading(true));\n  const {\n    value,\n    error\n  } = await Repository.APIObjects.getObject(id);\n\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n\n  dispatch(setCurrentObject(value));\n  dispatch(objectsLoading(false));\n};\nexport const setObjectsIntoBD = (img, name, region, text, rate) => async dispatch => {\n  dispatch(objectsLoading(true));\n  const {\n    value,\n    error\n  } = await Repository.APIObjects.createObject(img, name, region, text, rate);\n\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n\n  dispatch(setStateObjects(value));\n  dispatch(objectsLoading(false));\n};\nexport const setSearchObjects = data => ({\n  type: SEARCH_OBJECTS,\n  payload: data\n});\nexport const isSearch = bool => ({\n  type: IS_SEARCH,\n  payload: bool\n});\nexport const setSearchObjectsFromBD = function () {\n  let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return async dispatch => {\n    dispatch(isSearch(true));\n    dispatch(objectsLoading(true));\n    const {\n      value,\n      error\n    } = await Repository.APIObjects.searchObject(name);\n    error || !value ? dispatch(setSearchObjects([])) : dispatch(setSearchObjects([value]));\n    dispatch(objectsLoading(false));\n  };\n};\nexport const setObjectsLength = length => ({\n  type: GET_OBJECTS_LENGTH,\n  payload: length\n});\nexport const setCurrentPage = number => ({\n  type: SET_CURRENT_PAGE,\n  payload: number\n});\nexport const setPaginationPage = number => ({\n  type: SET_PAGINATION_PAGE,\n  payload: number\n});","map":{"version":3,"sources":["C:/Users/e.semashko/Desktop/belarus-main/webapp/src/useCases/actions/objects.js"],"names":["SET_STATE_OBJECTS","CHANGE_OBJECT_LOADER","ERROR_OBJECT_USERS","SET_CURRENT_OBJECT","CHANGE_RATE","SET_SORT_OBJECTS","SET_LIKED_OBJECTS","IS_SEARCH","SEARCH_OBJECTS","GET_OBJECTS_LENGTH","SET_CURRENT_PAGE","SET_PAGINATION_PAGE","Repository","setStateObjects","objects","type","payload","setLikedObjects","setSortObjects","objectsLoading","value","loadingError","setCurrentObject","object","changeRate","id","rate","getObjectsFromBD","dispatch","error","APIObjects","getObjects","sort","a","b","getObjectFromBD","getObject","setObjectsIntoBD","img","name","region","text","createObject","setSearchObjects","data","isSearch","bool","setSearchObjectsFromBD","searchObject","setObjectsLength","length","setCurrentPage","number","setPaginationPage"],"mappings":"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","sourcesContent":["import {\n  SET_STATE_OBJECTS,\n  CHANGE_OBJECT_LOADER,\n  ERROR_OBJECT_USERS,\n  SET_CURRENT_OBJECT,\n  CHANGE_RATE,\n  SET_SORT_OBJECTS,\n\tSET_LIKED_OBJECTS,\n  IS_SEARCH,\n  SEARCH_OBJECTS,\n  GET_OBJECTS_LENGTH,\n  SET_CURRENT_PAGE,\n  SET_PAGINATION_PAGE\n} from '../actionTypes/objects';\nimport Repository from '../../repository';\n\nexport const setStateObjects = (objects) => {\n  return { type: SET_STATE_OBJECTS, payload: objects };\n};\nexport const setLikedObjects = () => {\n  return { type: SET_LIKED_OBJECTS };\n};\nexport const setSortObjects = (objects) => {\n  return { type: SET_SORT_OBJECTS, payload: objects };\n};\nexport function objectsLoading(value) {\n  return { type: CHANGE_OBJECT_LOADER, value };\n}\nexport function loadingError(value) {\n  return { type: ERROR_OBJECT_USERS, value };\n}\nexport const setCurrentObject = (object) => {\n  return { type: SET_CURRENT_OBJECT, payload: object };\n};\nexport const changeRate = (id, rate) => {\n  return { type: CHANGE_RATE, id, rate };\n};\n\n\nexport const getObjectsFromBD = () => async (dispatch) => {\n  dispatch(objectsLoading(true));\n  const { value, error } = await Repository.APIObjects.getObjects();\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n  dispatch(setStateObjects(value.sort((a, b) => (a.rate > b.rate ? -1 : 1))));\n  dispatch(objectsLoading(false));\n};\n\nexport const getObjectFromBD = (id) => async (dispatch) => {\n  dispatch(objectsLoading(true));\n  const { value, error } = await Repository.APIObjects.getObject(id);\n  if (!value || error) {\n    dispatch(loadingError(true));\n  }\n  dispatch(setCurrentObject(value));\n  dispatch(objectsLoading(false));\n};\n\nexport const setObjectsIntoBD =\n  (img, name, region, text, rate) => async (dispatch) => {\n    dispatch(objectsLoading(true));\n    const { value, error } = await Repository.APIObjects.createObject(\n      img,\n      name,\n      region,\n      text,\n      rate\n    );\n    if (!value || error) {\n      dispatch(loadingError(true));\n    }\n    dispatch(setStateObjects(value));\n    dispatch(objectsLoading(false));\n  };\n\nexport const setSearchObjects = (data) => ({\n  type: SEARCH_OBJECTS,\n  payload: data,\n});\nexport const isSearch = (bool) => ({ type: IS_SEARCH, payload: bool });\nexport const setSearchObjectsFromBD =\n  (name = '') =>\n  async (dispatch) => {\n    dispatch(isSearch(true));\n    dispatch(objectsLoading(true));\n    const { value, error } = await Repository.APIObjects.searchObject(name);\n    error || !value\n      ? dispatch(setSearchObjects([]))\n      : dispatch(setSearchObjects([value]));\n    dispatch(objectsLoading(false));\n  };\n\nexport const setObjectsLength = (length) => ({\n  type: GET_OBJECTS_LENGTH,\n  payload: length,\n});\nexport const setCurrentPage = (number) => ({\n  type: SET_CURRENT_PAGE,\n  payload: number,\n});\nexport const setPaginationPage = (number) => ({\n  type: SET_PAGINATION_PAGE,\n  payload: number\n})\n"]},"metadata":{},"sourceType":"module"}
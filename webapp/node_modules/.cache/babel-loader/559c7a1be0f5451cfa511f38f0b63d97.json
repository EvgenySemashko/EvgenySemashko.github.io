{"ast":null,"code":"import{useSelector,useDispatch}from\"react-redux\";import{useEffect}from\"react\";import CardList from\"./component\";import{getObjectsFromBD,setObjectsIntoBD,setStateObjects,setSortObjects,setSearchObjects,setObjectsLength,setPaginationPage,setLikedObjects,setCurrentPage,isSearch as IsSearch}from\"../../../useCases/actions/objects\";import json from\"../../../places.json\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CardListContainer=function CardListContainer(_ref){var regionType=_ref.regionType;var dispatch=useDispatch();useEffect(function(){dispatch(getObjectsFromBD());},[]);var sortBy=useSelector(function(state){return state.objects.sortBy;});useEffect(function(){dispatch(setSortObjects());},[sortBy]);var objects=useSelector(function(state){return state.objects.objects;});var objectsLength=useSelector(function(state){return state.objects.objectsLength;});var currentPage=useSelector(function(state){return state.objects.currentPage;});var isError=useSelector(function(state){return state.objects.isError;});var isLoader=useSelector(function(state){return state.objects.isLoader;});var likedData=useSelector(function(state){return state.objects.likedObjects;});var searchObject=useSelector(function(state){return state.objects.searchObject;});var isSearch=useSelector(function(state){return state.objects.isSearch;});useEffect(function(){dispatch(setObjectsLength(objects.length));},[objects,objectsLength]);var sortUp=function sortUp(object){var obj=object.sort(function(a,b){return a.rate>b.rate?1:-1;});dispatch(setStateObjects(obj));dispatch(setSortObjects(\"up\"));};var sortDown=function sortDown(object){var obj=object.sort(function(a,b){return a.rate>b.rate?-1:1;});dispatch(setStateObjects(obj));dispatch(setSortObjects(\"down\"));};var setLiked=function setLiked(obj){var cards=JSON.parse(localStorage.getItem(\"liked\"))||[];if(obj.isLiked){cards=cards.filter(function(i){return i.title!==obj.title;});localStorage.setItem(\"liked\",JSON.stringify(cards));dispatch(setLikedObjects());}else{if(cards.length){var is=false;cards.forEach(function(i){if(obj.id===i.id){is=true;}});if(!is){cards.push(obj);localStorage.setItem(\"liked\",JSON.stringify(cards));dispatch(setLikedObjects());}}else{cards.push(obj);localStorage.setItem(\"liked\",JSON.stringify(cards));dispatch(setLikedObjects());}}};var backToCatalog=function backToCatalog(){dispatch(IsSearch(false));dispatch(setSearchObjects([]));};var onChangePage=function onChangePage(number){var side=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(number&&!side){dispatch(setCurrentPage(number));}if(!number&&side===\"prev\"){if(currentPage>=2){dispatch(setCurrentPage(currentPage-1));}}if(!number&&side===\"next\"){if(currentPage<Math.ceil(objectsLength/10)){dispatch(setCurrentPage(currentPage+1));}}if(!number&&side===\"end\"){if(currentPage+2>Math.ceil(objectsLength/10)){dispatch(setCurrentPage(Math.ceil(objectsLength/10)));}else{dispatch(setCurrentPage(currentPage+2));}}};var setObjects=function setObjects(){for(var i=0;i<=json.length-1;i++){dispatch(setObjectsIntoBD(json[i].img,json[i].name,json[i].region,json[i].text,json[i].rate));}};var regionObjects=objects.filter(function(i){return i.region===regionType;});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CardList,{objects:regionObjects,setLiked:setLiked,isError:isError,isLoader:isLoader,likedData:likedData,sortUp:sortUp,sortDown:sortDown,searchObject:searchObject,isSearch:isSearch,backToCatalog:backToCatalog,objectsLength:objectsLength,currentPage:currentPage,onChangePage:onChangePage,showObjects:showObjects}),/*#__PURE__*/_jsx(\"button\",{onClick:setObjects,children:\"SET\"})]});};export var container=CardListContainer;","map":{"version":3,"sources":["C:/Users/e.semashko/Desktop/belarus-main/webapp/src/components/organisms/CardList/container.js"],"names":["useSelector","useDispatch","useEffect","CardList","getObjectsFromBD","setObjectsIntoBD","setStateObjects","setSortObjects","setSearchObjects","setObjectsLength","setPaginationPage","setLikedObjects","setCurrentPage","isSearch","IsSearch","json","CardListContainer","regionType","dispatch","sortBy","state","objects","objectsLength","currentPage","isError","isLoader","likedData","likedObjects","searchObject","length","sortUp","object","obj","sort","a","b","rate","sortDown","setLiked","cards","JSON","parse","localStorage","getItem","isLiked","filter","i","title","setItem","stringify","is","forEach","id","push","backToCatalog","onChangePage","number","side","Math","ceil","setObjects","img","name","region","text","regionObjects","showObjects","container"],"mappings":"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","sourcesContent":["import { useSelector, useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport CardList from \"./component\";\nimport {\n  getObjectsFromBD,\n  setObjectsIntoBD,\n  setStateObjects,\n  setSortObjects,\n  setSearchObjects,\n  setObjectsLength,\n\tsetPaginationPage,\n\tsetLikedObjects,\n  setCurrentPage,\n  isSearch as IsSearch,\n} from \"../../../useCases/actions/objects\";\nimport json from \"../../../places.json\";\n\nconst CardListContainer = ({ regionType }) => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getObjectsFromBD());\n  }, []);\n\n  const sortBy = useSelector((state) => state.objects.sortBy);\n\n  useEffect(() => {\n    dispatch(setSortObjects());\n  }, [sortBy]);\n\n  const objects = useSelector((state) => state.objects.objects);\n  const objectsLength = useSelector((state) => state.objects.objectsLength);\n  const currentPage = useSelector((state) => state.objects.currentPage);\n  const isError = useSelector((state) => state.objects.isError);\n  const isLoader = useSelector((state) => state.objects.isLoader);\n  let likedData = useSelector((state) => state.objects.likedObjects);\n\n  const searchObject = useSelector((state) => state.objects.searchObject);\n  const isSearch = useSelector((state) => state.objects.isSearch);\n\n  useEffect(() => {\n    dispatch(setObjectsLength(objects.length));\n  }, [objects, objectsLength]);\n\n  const sortUp = (object) => {\n    const obj = object.sort((a, b) => (a.rate > b.rate ? 1 : -1));\n    dispatch(setStateObjects(obj));\n    dispatch(setSortObjects(\"up\"));\n  };\n\n  const sortDown = (object) => {\n    const obj = object.sort((a, b) => (a.rate > b.rate ? -1 : 1));\n    dispatch(setStateObjects(obj));\n    dispatch(setSortObjects(\"down\"));\n  };\n\n  const setLiked = (obj) => {\n    let cards = JSON.parse(localStorage.getItem(\"liked\")) || [];\n    if (obj.isLiked) {\n      cards = cards.filter((i) => i.title !== obj.title);\n      localStorage.setItem(\"liked\", JSON.stringify(cards));\n      dispatch(setLikedObjects());\n    } else {\n      if (cards.length) {\n        let is = false;\n        cards.forEach((i) => {\n          if (obj.id === i.id) {\n            is = true;\n          }\n        });\n        if (!is) {\n          cards.push(obj);\n          localStorage.setItem(\"liked\", JSON.stringify(cards));\n          dispatch(setLikedObjects());\n        }\n      } else {\n        cards.push(obj);\n        localStorage.setItem(\"liked\", JSON.stringify(cards));\n        dispatch(setLikedObjects());\n      }\n    }\n  };\n  const backToCatalog = () => {\n    dispatch(IsSearch(false));\n    dispatch(setSearchObjects([]));\n  };\n\n  const onChangePage = (number, side = null) => {\n    if (number && !side) {\n      dispatch(setCurrentPage(number));\n    }\n    if (!number && side === \"prev\") {\n      if (currentPage >= 2) {\n        dispatch(setCurrentPage(currentPage - 1));\n      }\n    }\n    if (!number && side === \"next\") {\n      if (currentPage < Math.ceil(objectsLength / 10)) {\n        dispatch(setCurrentPage(currentPage + 1));\n      }\n    }\n    if (!number && side === \"end\") {\n      if (currentPage + 2 > Math.ceil(objectsLength / 10)) {\n        dispatch(setCurrentPage(Math.ceil(objectsLength / 10)));\n      } else {\n        dispatch(setCurrentPage(currentPage + 2));\n      }\n    }\n  };\n\n  const setObjects = () => {\n    for (let i = 0; i <= json.length - 1; i++) {\n      dispatch(\n        setObjectsIntoBD(\n          json[i].img,\n          json[i].name,\n          json[i].region,\n          json[i].text,\n          json[i].rate\n        )\n      );\n    }\n  };\n\n  let regionObjects = objects.filter((i) => i.region === regionType);\n\n  return (\n    <div>\n      <CardList\n\t\t\t\tobjects={regionObjects}\n\t\t\t\tsetLiked={setLiked}\n        isError={isError}\n        isLoader={isLoader}\n        likedData={likedData}\n        sortUp={sortUp}\n        sortDown={sortDown}\n        searchObject={searchObject}\n        isSearch={isSearch}\n        backToCatalog={backToCatalog}\n        objectsLength={objectsLength}\n        currentPage={currentPage}\n        onChangePage={onChangePage}\n        showObjects={showObjects}\n      />\n      {<button onClick={setObjects}>SET</button>}\n    </div>\n  );\n};\nexport const container = CardListContainer;\n"]},"metadata":{},"sourceType":"module"}